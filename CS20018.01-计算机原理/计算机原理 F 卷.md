# 计算机原理 F 卷

## 一、 选择题 (3 * 10 = 30 分)

1. **关于计算机体系结构，以下说法错误的是：**
   - A. 哈佛架构将指令存储和数据存储分开，从而提高了执行效率。
   - B. 在冯·诺依曼架构中，指令和数据存储在同一个内存空间中，这可能导致瓶颈。
   - C. 现代处理器通常采用冯·诺依曼架构，但使用缓存来减轻内存瓶颈。
   - D. 哈佛架构主要用于通用计算机，而冯·诺依曼架构用于嵌入式系统。
2. **关于虚拟内存，以下说法正确的是：**
   - A. 虚拟内存允许程序使用比物理内存更大的地址空间。
   - B. 页表大小与虚拟地址空间大小成正比，与页大小成反比。
   - C. 翻译后备缓冲器 (TLB) 用于缓存页表条目，减少内存访问次数。
   - D. 以上都正确。
3. **以下关于缓存一致性的说法，错误的是：**
   - A. 写通策略在写入缓存同时写入主存，保证了速度。
   - B. 写回策略只在缓存行被替换时才写回主存，减少了内存 traffic。
   - C. MESI 协议是一种用于维护多核处理器缓存一致性的协议。
   - D. 在单核处理器中，不需要缓存一致性协议。
4. **关于进程和线程，以下说法正确的是：**
   - A. 进程是资源分配的基本单位，线程是 CPU 调度的基本单位。
   - B. 线程共享进程的地址空间，因此线程间通信比进程间通信更高效。
   - *(选项 C 和 D 在图片 f1.png 中被截断，无法显示)*
5. *(题目描述在图片中缺失，根据选项推测可能与网络协议特性有关)*
   - A. IP
   - B. UDP
   - C. TCP
   - D. ICMP
6. **关于死锁，以下哪个条件不是死锁的必要条件？**
   - A. 互斥条件
   - B. 请求和保持条件
   - C. 不剥夺条件
   - D. 环路等待条件
   - E. 所有以上都是必要条件
7. **以下关于 RAID 级别的描述，错误的是：**
   - A. RAID 0 通过条带化提高性能，但没有冗余。
   - B. RAID 1 通过镜像提供冗余，但成本高。
   - C. RAID 5 使用奇偶校验分布 across disks，提供冗余和性能。
   - D. RAID 10 是 RAID 1 和 RAID 0 的结合，先镜像后条带化。
8. **在编程中，以下关于指针的说法，正确的是：**
   - A. 指针是存储地址的变量。
   - B. 在 C 语言中，数组名是一个常量指针。
   - C. 指针运算依赖于指针所指向的数据类型。
   - D. 以上都正确。
9. **关于操作系统调度算法，以下哪个算法可能导致饥饿？**
   - A. 先来先服务 (FCFS)
   - B. 最短作业优先 (SJF)
   - C. 轮转调度 (Round Robin)
   - D. 多级反馈队列
10. **关于网络地址转换 (NAT)，以下说法正确的是：**
    - A. NAT 允许私有 IP 地址访问公共网络。
    - B. NAT 隐藏了内部网络结构，提高了安全性。
    - C. NAT 可能导致某些协议如 IPsec 的问题。
    - D. 以上都正确。

------

## 二、 填空题 (4 * 4 = 16 分)

1. 在 x86 架构中，用于栈指针的寄存器是 ________。
2. 一个 32 位操作系统的虚拟地址空间大小是 ________ 字节。
3. 在 C 语言中，用于动态内存分配的函数是 ________ (写出一个)。
4. HTTP 协议中，用于向服务器发送数据的请求方法是 ________。

------

## 三、 解答题 (4 * 1 + 10 * 5 = 54 分)

1. **(4 分)** 请解释什么是内存泄漏，并给出一个 C 语言中可能导致内存泄漏的代码示例。
2. **(10 分)** 描述 TCP 三次握手的过程，并说明为什么需要三次握手而不是两次。
3. **(10 分)** 编写一个 C 函数，实现字符串反转（原地反转），并解释其工作原理。
4. **(10 分)** 假设一个直接映射缓存，缓存大小为 256 字节，块大小为 16 字节，访问序列为地址 0, 16, 32, 48, 64, 80, 0, 16。计算缓存命中率（缓存初始为空）。
5. **(10 分)** 使用信号量解决生产者-消费者问题（缓冲区大小为 `N`）。写出伪代码并解释。
6. **(10 分)** 编写一个简单的 TCP 服务器代码片段（使用 C 语言），监听端口 8080，接受连接并回复 "Hello, World!"。并解释关键函数的作用。