# 计算机原理 D 卷

## 一、 选择题 (3 × 10 = 30 分)

1. **下列关于冯·诺依曼体系结构的描述，错误的是：**
   - A. 指令和数据在逻辑上统一编码
   - B. 程序以二进制形式存放在存储器中
   - C. 指令必须按顺序执行，不能发生控制转移
   - D. 运算器负责算术和逻辑运算
2. **关于 C 程序从源代码到可执行文件的过程，下列说法正确的是：**
   - A. 预处理阶段会进行语法和类型检查
   - B. 汇编阶段会生成 ELF 可执行文件
   - C. 链接阶段负责解析外部符号并重定位地址
   - D. 编译阶段直接生成机器指令并写入磁盘
3. **在 x86-64 架构中，以下哪条指令一定会修改条件码寄存器 (EFLAGS) ？**
   - A. `movq %rax, %rbx`
   - B. `leaq (%rax,%rbx), %rcx`
   - C. `addq %rax, %rbx`
   - D. `call func`
4. **关于进程虚拟地址空间，下列说法错误的是：**
   - A. 每个进程拥有独立的虚拟地址空间
   - B. 不同进程的同一虚拟地址可能映射到不同物理页
   - C. 内核代码在用户态进程中不可见
   - D. 虚拟内存机制允许程序使用超过物理内存大小的地址空间
5. **下列哪一种情况一定会引发缺页异常 (page fault) ？**
   - A. TLB 未命中
   - B. 访问的虚拟页尚未映射到物理内存
   - C. L1 Cache 未命中
   - D. 使用 malloc 分配内存
6. **若系统采用写回 (write-back) 高速缓存策略，下列说法正确的是：**
   - A. 写命中时立即更新主存
   - B. 写未命中一定分分配
   - C. 脏块被替换时才写回主存
   - D. 主存数据始终与 Cache 保持一致
7. *(注：提供的图片中缺失第 7 题内容，图片 d2 结束于第 6 题，图片 d3 开始于第 8 题)*
8. **下列关于 TCP 连接的说法，错误的是：**
   - A. TCP 提供可靠的、面向字节流的传输
   - B. TCP 连接建立需要三次握手
   - C. TCP 保证应用层消息边界不被破坏
   - D. TCP 通过序号和确认机制保证有序传输
9. **在多线程程序中，以下哪种操作必须使用同步机制保护？**
   - A. 只读共享变量
   - B. 线程私有变量
   - C. 修改共享变量
   - D. 函数局部变量
10. **关于协程 (coroutine) 的描述，错误的是：**
    - A. 协程通常在用户态实现
    - B. 协程切换不需要内核参与
    - C. 协程可以并行运行在多个 CPU 上
    - D. 协程切换开销通常小于线程

------

## 二、 填空题 (4 × 4 = 16 分)

1. 在 Linux 中，一个文件权限为 `rwxr-x--x`，对应的八进制权限码是： ____。
2. 在 C 语言中，`sizeof(int\*)` 的大小取决于： ____。
3. 若一个 32 位虚拟地址采用 4KB 页大小，则页内偏移占 ______ 位。
4. 在函数调用过程中，用于保存 return 结果的寄存器是 (x86-64) ： ____。

------

## 三、 解答题 (4 + 10 × 5 = 50 分)

1. (4 分)

   写出一种方法，判断当前机器是大端还是小端，并说明原理。

2. (5 分)

   给定如下 C 代码：

   C

   ```c
   int f(int x) { return (x << 3) - x; }
   ```

   1. 写出对应的数学表达式
   2. 说明该函数是否可能溢出

3. (5 分)

   解释 TLB 未命中 与 缺页异常 的区别，并说明二者是否一定同时发生。

4. (5 分)

   为什么顺序访问数组比随机访问更容易命中 Cache？结合局部性原理说明。

5. (5 分)

   下面程序会输出多少行？并说明原因：

   C

   ```c
   int main() {
       fork();
       fork(); printf("hello\n"); return 0;
   }
   ```

6. (10 分)

   简述 HTTP/1.0 非持久连接 与 HTTP/1.1 持久连接 的主要区别，并说明持久连接对代理服务器实现的影响。